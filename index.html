<!--
# تعليمات النشر على GitHub Pages

لجعل هذا الموقع يعمل على الإنترنت مجانًا باستخدام GitHub Pages، اتبع الخطوات التالية:

1.  **إنشاء مستودع (Repository):**
    - اذهب إلى حسابك في GitHub وأنشئ مستودعًا جديدًا. يمكنك تسميته أي اسم، مثلاً `restaurant-menu`.

2.  **رفع الملفات:**
    - قم برفع هذا الملف (`index.html`) إلى المستودع الذي أنشأته.

3.  **تفعيل GitHub Pages:**
    - داخل المستودع، اذهب إلى قسم "Settings".
    - في القائمة الجانبية، اختر "Pages".
    - تحت قسم "Branch"، اختر الفرع `main` (أو `master`) واختر المجلد `/(root)`.
    - اضغط على "Save".

4.  **الوصول للموقع:**
    - بعد دقيقة أو دقيقتين، سيظهر رابط موقعك في نفس الصفحة. سيكون على هذا الشكل:
      `https://<your-username>.github.io/<repository-name>`
    - الآن موقعك يعمل ومتاح للجميع!

-->
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>مطعم ملح وسكر</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Tajawal:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Tajawal', sans-serif;
            background-color: #338d83;
            scroll-behavior: smooth;
        }
        .font-pacifico {
            font-family: 'Pacifico', cursive;
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        /* Custom scrollbar for cart */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #fffacd;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #ffd700;
            border-radius: 10px;
            border: 2px solid #fffacd;
        }
    </style>
<link rel="stylesheet" href="/index.css">
</head>
<body>

<!-- Toast Notification -->
<div id="toast" class="fixed top-5 left-1/2 -translate-x-1/2 bg-[#ffd700] text-gray-800 font-bold py-3 px-6 rounded-lg shadow-xl transition-all duration-300 opacity-0 -translate-y-10 z-50">
</div>

<div class="min-h-screen text-gray-800 p-4 sm:p-6 lg:p-8">
    <div class="max-w-7xl mx-auto">
        <!-- Header Section -->
        <header id="header-section" class="flex flex-col items-center justify-center min-h-screen text-center text-white fade-in px-4">
            <div class="bg-black bg-opacity-40 p-6 sm:p-8 rounded-2xl shadow-2xl max-w-lg w-full">
                <div class="mb-6">
                    <img src="./LS٢٠٢٥١٠١٩١٠٢٥١٣.png" alt="شعار مطعم ملح وسكر" class="w-32 h-32 sm:w-40 sm:h-40 mx-auto object-contain">
                </div>
                <h1 class="text-5xl sm:text-6xl md:text-7xl font-bold mb-4">
                    <span class="font-pacifico text-yellow-300">Milh & Suker</span>
                </h1>
                <p class="text-lg sm:text-xl md:text-2xl mb-2 font-sans tracking-wider text-gray-200">
                    أهلاً بكم في مطعم ملح وسكر
                </p>
                 <p class="text-md sm:text-lg mb-8 text-gray-300">
                    أفضل بركر ودجاج عراقي بنكهات أصلية
                </p>
                <button id="show-menu-btn" class="bg-[#ffd700] text-gray-800 font-bold py-3 px-8 text-lg rounded-lg shadow-md hover:bg-yellow-300 transition-colors transform hover:scale-105">
                    عرض قائمة الطعام
                </button>
                <div class="mt-10 sm:mt-12 flex flex-col gap-3">
                    <a id="instagram-link" href="#" target="_blank" rel="noopener noreferrer" class="bg-gradient-to-r from-purple-500 via-pink-500 to-orange-500 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:shadow-xl transition-all transform hover:scale-105 flex items-center justify-center gap-3" aria-label="Instagram">
                        <svg class="w-6 h-6" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"/></svg>
                        <span>تابعنا على Instagram</span>
                    </a>
                    <a id="whatsapp-link-header" href="#" target="_blank" rel="noopener noreferrer" class="bg-green-500 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-green-600 transition-all transform hover:scale-105 flex items-center justify-center gap-3" aria-label="WhatsApp">
                        <svg class="w-6 h-6" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32 101.5 32 1.9 131.6 1.9 254c0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5-.1 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"></path></svg>
                        <span>تواصل عبر WhatsApp</span>
                    </a>
                </div>
            </div>
        </header>

        <!-- Menu & Cart Section -->
        <div id="menu-section" class="hidden fade-in">
            <div class="flex justify-between items-center mb-6">
                 <h1 class="text-4xl md:text-5xl font-bold text-white shadow-sm">
                    <span class="font-pacifico">Milh & Suker</span>
                    <span class="block text-2xl text-yellow-300 font-sans tracking-wider">قائمة الطعام</span>
                </h1>
                <div class="flex gap-2">
                    <button id="admin-panel-btn" class="bg-gray-700 text-white font-bold py-2 px-4 rounded-lg shadow-md hover:bg-gray-600 transition-colors" title="لوحة التحكم">
                        <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                    </button>
                    <button id="back-to-header-btn" class="bg-[#ffd700] text-gray-800 font-bold py-2 px-4 rounded-lg shadow-md hover:bg-yellow-300 transition-colors">
                        الرجوع للرئيسية
                    </button>
                </div>
            </div>
            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                <!-- Menu Container -->
                <div id="menu-container" class="lg:col-span-2 space-y-8">
                    <!-- Menu content will be injected here by JavaScript -->
                </div>
                <!-- Cart Container -->
                <div class="sticky top-8 h-fit">
                    <div class="bg-[#fffacd] rounded-xl shadow-lg p-6 border-2 border-[#ffd700]">
                        <div class="flex justify-between items-center mb-4">
                            <h2 class="text-2xl font-bold text-gray-800">سلة الطلبات</h2>
                            <button id="clear-cart-btn" class="text-red-500 hover:text-red-700 transition-colors hidden" aria-label="تفريغ السلة">
                                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                            </button>
                        </div>
                        
                        <div id="cart-items-container" class="space-y-3 max-h-64 overflow-y-auto pr-2 custom-scrollbar">
                            <p id="empty-cart-msg" class="text-gray-500 text-center py-8">سلتك فارغة حالياً.</p>
                        </div>
        
                        <div id="cart-summary" class="hidden">
                            <div class="border-t-2 border-dashed border-gray-300 my-4"></div>
                            <div class="text-xl font-bold flex justify-between text-gray-800 mb-4">
                                <span>المجموع الكلي:</span>
                                <span id="cart-total" class="text-[#338d83]">0 د.ع</span>
                            </div>
        
                            <div class="space-y-3">
                                <div>
                                    <label for="customer-phone" class="block text-sm font-medium text-gray-700 mb-1">
                                        رقم الهاتف <span class="text-red-500">*</span>
                                    </label>
                                    <input type="tel" id="customer-phone" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-[#ffd700] focus:border-[#ffd700]" placeholder="07XX XXX XXXX" required>
                                </div>
                                
                                <div>
                                    <label for="customer-address" class="block text-sm font-medium text-gray-700 mb-1">
                                        عنوان التوصيل <span class="text-red-500">*</span>
                                    </label>
                                    <textarea id="customer-address" rows="2" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-[#ffd700] focus:border-[#ffd700]" placeholder="مثال: بغداد - الكرادة - شارع..." required></textarea>
                                </div>
                                
                                <div>
                                    <label for="notes" class="block text-sm font-medium text-gray-700 mb-1">
                                        ملاحظات إضافية
                                    </label>
                                    <textarea id="notes" rows="2" class="w-full p-2 border border-gray-300 rounded-lg focus:ring-[#ffd700] focus:border-[#ffd700]" placeholder="مثال: بدون مايونيز..."></textarea>
                                </div>
                            </div>
        
                            <div class="mt-6">
                                <button id="send-whatsapp-btn" class="w-full bg-green-500 text-white font-bold py-3 px-4 rounded-lg shadow-md hover:bg-green-600 flex items-center justify-center gap-2 transition-colors">
                                    <svg class="w-6 h-6" stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 448 512" xmlns="http://www.w3.org/2000/svg"><path d="M380.9 97.1C339 55.1 283.2 32 223.9 32 101.5 32 1.9 131.6 1.9 254c0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5-.1 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"></path></svg>
                                    <span>إرسال الطلب عبر واتساب</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Admin Panel Modal -->
<div id="admin-modal" class="hidden fixed inset-0 bg-black bg-opacity-50 z-50 flex items-center justify-center p-4">
    <div class="bg-white rounded-xl shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-hidden">
        <div class="bg-[#338d83] text-white p-4 flex justify-between items-center">
            <h2 class="text-2xl font-bold">لوحة التحكم - إدارة المنيو</h2>
            <button id="close-admin-modal" class="text-white hover:text-[#ffd700] transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
        </div>
        
        <!-- Login Section -->
        <div id="admin-login" class="p-6">
            <div class="max-w-md mx-auto">
                <p class="text-gray-700 mb-4 text-center">أدخل كلمة المرور للوصول إلى لوحة التحكم</p>
                <input type="password" id="admin-password" placeholder="كلمة المرور" class="w-full p-3 border-2 border-gray-300 rounded-lg focus:border-[#338d83] focus:outline-none mb-4">
                <button id="admin-login-btn" class="w-full bg-[#338d83] text-white font-bold py-3 px-4 rounded-lg hover:bg-[#2a7269] transition-colors">
                    دخول
                </button>
                <p class="text-sm text-gray-500 mt-3 text-center">كلمة المرور الافتراضية: milh2025</p>
            </div>
        </div>
        
        <!-- Admin Content -->
        <div id="admin-content" class="hidden p-6 overflow-y-auto max-h-[calc(90vh-80px)]">
            <div class="mb-4 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded">
                <p class="text-sm text-gray-700">
                    <strong>ملاحظة:</strong> الأصناف المخفية لن تظهر للعملاء في المنيو. يمكنك إظهارها مرة أخرى في أي وقت.
                </p>
            </div>
            
            <div id="admin-items-list" class="space-y-6">
                <!-- سيتم ملؤها بواسطة JavaScript -->
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
    // --- START: DATA & CONSTANTS ---
    const INSTAGRAM_URL = 'https://www.instagram.com/milh_suker';
    const WHATSAPP_NUMBER = '9647733387676';

    const menuData = [
        { name: 'الساندويتش والبرجر', notes: 'البرجر متوفر بلحم العجل أو الدجاج العراقي.', items: [
            { id: 1, name: 'بركر كلاسك', description: 'شريحة بركر 125غ لحم أو دجاج عراقي مع خبز البركر (صمونة) المخبوزة داخل المطعم مع الخس والطماطم والخيار المخلل والصوص الخاص.', variants: [{ name: 'لحم عراقي', price: 5000 }, { name: 'دجاج عراقي', price: 4000 }] },
            { id: 2, name: 'بركر بالجبن', description: 'شريحة بركر 125غ لحم أو دجاج مع خبز البركر، خس، طماطم، خيار مخلل، صوص الشيدر وصوص المطعم.', variants: [{ name: 'لحم', price: 5500 }, { name: 'دجاج', price: 4500 }] },
            { id: 3, name: 'بركر دبل', price: 6500, description: 'شريحتان من البركر (250غ إجمالي) مع خبز وخضار وصوص.' },
            { id: 4, name: 'بركر بالفطر', description: 'بركر لحم أو دجاج مع خبز، خس، طماطم، صوص كريمة فطر.', variants: [{ name: 'لحم', price: 6000 }, { name: 'دجاج', price: 5000 }] },
            { id: 5, name: 'كرانشي بركر', description: 'بركر لحم أو دجاج مع خبز، خس، خيار، صوص خاص وبطاطا مقرمشة.', variants: [{ name: 'لحم', price: 6000 }, { name: 'دجاج', price: 5000 }] },
            { id: 7, name: 'ساندويتش ستيك دجاج', price: 4500, description: 'دجاج مشوي مع خبز البركر، خس، خيار، صوص.' },
            { id: 8, name: 'ساندويتش دجاج مقلي', price: 4500, description: 'دجاج مقلي مع خبز البركر، كولسلو، خيار، صوص.' }
        ]},
        { name: 'الريزو', items: [
            { id: 9, name: 'ريزو كلاسك', price: 5000, description: 'رز مبهر مع دجاج مقرمش وصوص خاص.' },
            { id: 10, name: 'ريزو مدخن', price: 5000, description: 'رز مع دجاج مقرمش وصوص باربكيو.' },
            { id: 11, name: 'ريزو ستيك دجاج', price: 6000, description: 'رز مع دجاج مشوي وصوص كريمة الفطر.' }
        ]},
        { name: 'البيتزا', notes: 'جميع أنواع البيتزا متوفرة بحجمين.', items: [
            { id: 12, name: 'بيتزا سجق لحم عراقي', description: 'بيتزا شهية مع سجق اللحم العراقي الأصلي.', variants: [{ name: 'كبير', price: 14000 }, { name: 'وسط', price: 12000 }] },
            { id: 13, name: 'بيتزا دجاج', description: 'قطع الدجاج المتبلة مع صلصة البيتزا الغنية.', variants: [{ name: 'كبير', price: 12000 }, { name: 'وسط', price: 10000 }] },
            { id: 14, name: 'بيتزا الفطر', description: 'مزيج من الفطر الطازج والجبن الذائب.', variants: [{ name: 'كبير', price: 12000 }, { name: 'وسط', price: 10000 }] },
            { id: 15, name: 'بيتزا كرسبي', description: 'بيتزا مغطاة بقطع الدجاج الكرسبي المقرمشة.', variants: [{ name: 'كبير', price: 12000 }, { name: 'وسط', price: 10000 }] },
            { id: 16, name: 'بيتزا خضار', description: 'تشكيلة من الخضروات الطازجة الموسمية.', variants: [{ name: 'كبير', price: 10000 }, { name: 'وسط', price: 8000 }] }
        ]},
        { name: 'البيدا', items: [
            { id: 17, name: 'بيدا لحم عراقي', price: 7500, description: 'فطيرة تركية باللحم المفروم على الطريقة العراقية.' },
            { id: 18, name: 'بيدا سجق', price: 7500, description: 'فطيرة تركية غنية بقطع السجق الشهي.' },
            { id: 19, name: 'بيدا الأجبان', price: 7000, description: 'مزيج من الأجبان الفاخرة على فطيرة البيدا الهشة.' }
        ]},
        { name: 'المناقيش', items: [
            { id: 20, name: 'منقوشة لحم عراقي', price: 4000, description: 'عجينة طرية مغطاة باللحم المفروم المتبل.' },
            { id: 21, name: 'منقوشة جبن', price: 4000, description: 'طبقة غنية من الجبن الذائب على عجينة المناقيش.' },
            { id: 22, name: 'منقوشة زعتر', price: 3500, description: 'مزيج الزعتر التقليدي مع زيت الزيتون.' },
            { id: 23, name: 'منقوشة جبن وزعتر', price: 4000, description: 'تجمع بين نكهة الجبن المالحة والزعتر العطري.' },
            { id: 24, name: 'منقوشة لبنة وزيتون', price: 4000, description: 'لبنة كريمية مع حبات الزيتون على عجينة طرية.' }
        ]},
        { name: 'البطاطا', items: [
            { id: 25, name: 'قدح بطاطا', price: 1500, description: 'بطاطا مقلية مقرمشة في قدح مناسب.' },
            { id: 26, name: 'صحن بطاطا', price: 3000, description: 'صحن كبير من البطاطا المقلية الذهبية.' }
        ]},
        { name: 'المشروبات', items: [
            { id: 27, name: 'كولا', price: 500, description: 'مشروب غازي منعش.' },
            { id: 28, name: 'سبرايت', price: 500, description: 'مشروب غازي بنكهة الليمون.' },
            { id: 29, name: 'مياه المدى', price: 500, description: 'مياه معدنية نقية.' }
        ]}
    ];
    // --- END: DATA & CONSTANTS ---

    // --- START: STATE ---
    let cart = [];
    let isAdminMode = false;
    let hiddenItems = [];
    const ADMIN_PASSWORD = '1234'; // يمكن تغيير كلمة المرور هنا
    // --- END: STATE ---

    // --- START: DOM SELECTORS ---
    const headerSection = document.getElementById('header-section');
    const menuSection = document.getElementById('menu-section');
    const showMenuBtn = document.getElementById('show-menu-btn');
    const backToHeaderBtn = document.getElementById('back-to-header-btn');
    const menuContainer = document.getElementById('menu-container');
    const cartItemsContainer = document.getElementById('cart-items-container');
    const emptyCartMsg = document.getElementById('empty-cart-msg');
    const cartSummary = document.getElementById('cart-summary');
    const cartTotalEl = document.getElementById('cart-total');
    const clearCartBtn = document.getElementById('clear-cart-btn');
    const notesEl = document.getElementById('notes');
    const sendWhatsappBtn = document.getElementById('send-whatsapp-btn');
    const toastEl = document.getElementById('toast');
    // --- END: DOM SELECTORS ---
    
    // --- START: HELPER FUNCTIONS ---
    const formatPrice = (price) => price.toLocaleString();

    const showToast = (message) => {
        toastEl.textContent = message;
        toastEl.classList.remove('opacity-0', '-translate-y-10');
        setTimeout(() => {
            toastEl.classList.add('opacity-0', '-translate-y-10');
        }, 2800);
    };

    const saveCart = () => {
        localStorage.setItem('milhSukerCart', JSON.stringify(cart));
    };

    const loadCart = () => {
        const savedCart = localStorage.getItem('milhSukerCart');
        if (savedCart) {
            cart = JSON.parse(savedCart);
        }
    };

    const loadHiddenItems = () => {
        const saved = localStorage.getItem('milhSukerHiddenItems');
        if (saved) {
            hiddenItems = JSON.parse(saved);
        }
    };

    const saveHiddenItems = () => {
        localStorage.setItem('milhSukerHiddenItems', JSON.stringify(hiddenItems));
    };

    const isItemHidden = (itemId) => {
        return hiddenItems.includes(itemId);
    };

    const toggleItemVisibility = (itemId) => {
        const index = hiddenItems.indexOf(itemId);
        if (index > -1) {
            hiddenItems.splice(index, 1);
            showToast('تم إظهار الصنف للعملاء');
        } else {
            hiddenItems.push(itemId);
            showToast('تم إخفاء الصنف (سيظهر "نفذ")');
        }
        saveHiddenItems();
        renderMenu();
    };

    const toggleAdminMode = () => {
        if (!isAdminMode) {
            const password = prompt('أدخل كلمة المرور للوصول إلى لوحة التحكم:');
            if (password === ADMIN_PASSWORD) {
                isAdminMode = true;
                showToast('مرحباً! تم تفعيل وضع الإدارة');
                renderMenu();
            } else if (password !== null) {
                showToast('كلمة مرور خاطئة!');
            }
        } else {
            isAdminMode = false;
            showToast('تم إيقاف وضع الإدارة');
            renderMenu();
        }
    };
    // --- END: HELPER FUNCTIONS ---

    // --- START: RENDER FUNCTIONS ---
    const renderMenu = () => {
        menuContainer.innerHTML = '';
        menuData.forEach(category => {
            const itemsToShow = isAdminMode ? category.items : category.items.filter(item => !hiddenItems.includes(item.id));
            
            if (itemsToShow.length === 0) return;
            
            const categoryHtml = `
                <div class="fade-in">
                    <div class="mb-4">
                        <h2 class="text-3xl font-bold text-[#ffd700] border-b-2 border-[#ffd700] pb-2 inline-block">${category.name}</h2>
                        ${category.notes ? `<p class="text-white mt-2 text-sm">${category.notes}</p>` : ''}
                    </div>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                        ${itemsToShow.map(item => {
                            const isHidden = hiddenItems.includes(item.id);
                            return `
                            <div class="bg-[#fffacd] rounded-xl shadow-lg p-4 flex flex-col justify-between border-2 ${isHidden ? 'border-red-400 opacity-70' : 'border-transparent'} hover:border-[#ffd700] transition-all duration-300 relative" data-product-id="${item.id}">
                                ${isAdminMode ? `
                                    <button class="toggle-item-btn absolute top-2 left-2 z-10 ${isHidden ? 'bg-green-500' : 'bg-red-500'} text-white p-2 rounded-full shadow-md hover:opacity-80 transition-opacity" data-item-id="${item.id}" title="${isHidden ? 'إظهار' : 'إخفاء'}">
                                        ${isHidden ? '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path></svg>' : '<svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.543-7a9.97 9.97 0 011.563-3.029m5.858.908a3 3 0 114.243 4.243M9.878 9.878l4.242 4.242M9.88 9.88l-3.29-3.29m7.532 7.532l3.29 3.29M3 3l3.59 3.59m0 0A9.953 9.953 0 0112 5c4.478 0 8.268 2.943 9.543 7a10.025 10.025 0 01-4.132 5.411m0 0L21 21"></path></svg>'}
                                    </button>
                                ` : ''}
                                ${isHidden && !isAdminMode ? '<div class="absolute top-2 right-2 bg-red-500 text-white text-xs px-3 py-1 rounded-full font-bold">نفذ</div>' : ''}
                                <div>
                                    <h3 class="text-xl font-bold text-gray-800">${item.name}</h3>
                                    <p class="text-gray-600 my-2 text-sm min-h-[40px]">${item.description}</p>
                                </div>
                                ${item.variants ? `
                                <div class="my-3">
                                    <div class="flex flex-wrap gap-2">
                                        ${item.variants.map((variant, index) => `
                                            <label class="cursor-pointer">
                                                <input type="radio" name="variant-${item.id}" value="${variant.name}" class="sr-only peer" ${index === 0 ? 'checked' : ''} data-price="${variant.price}">
                                                <div class="px-3 py-1 text-sm font-semibold rounded-full border-2 transition-colors bg-white text-gray-700 border-gray-300 peer-checked:bg-[#338d83] peer-checked:text-white peer-checked:border-[#338d83] hover:border-[#338d83]">
                                                    ${variant.name}
                                                </div>
                                            </label>
                                        `).join('')}
                                    </div>
                                </div>
                                ` : ''}
                                <div class="flex justify-between items-center mt-2">
                                    <span class="text-lg font-bold text-[#338d83] item-price">${formatPrice(item.variants ? item.variants[0].price : item.price)} د.ع</span>
                                    <button class="add-to-cart-btn bg-[#ffd700] text-gray-800 p-2 rounded-full shadow-md hover:bg-yellow-300 transform hover:scale-110 transition-transform" aria-label="إضافة ${item.name} للسلة">
                                        <svg class="w-5 h-5 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                                    </button>
                                </div>
                            </div>
                        `}).join('')}
                    </div>
                </div>
            `;
            menuContainer.innerHTML += categoryHtml;
        });
    };

    const renderCart = () => {
        if (cart.length === 0) {
            emptyCartMsg.style.display = 'block';
            cartSummary.classList.add('hidden');
            cartItemsContainer.innerHTML = '';
            clearCartBtn.classList.add('hidden');
        } else {
            emptyCartMsg.style.display = 'none';
            cartSummary.classList.remove('hidden');
            clearCartBtn.classList.remove('hidden');
            cartItemsContainer.innerHTML = cart.map(item => `
                <div class="flex items-center justify-between fade-in">
                    <div class="flex-1">
                        <p class="font-bold text-gray-800 break-words">${item.name}</p>
                        <p class="text-sm text-gray-500">${formatPrice(item.price)} د.ع</p>
                    </div>
                    <div class="flex items-center gap-2 bg-gray-100 rounded-full p-1 ml-2">
                        <button class="quantity-change-btn bg-[#ffd700] text-gray-800 rounded-full p-1 hover:bg-yellow-300 transition-colors" data-cart-id="${item.id}" data-change="1" aria-label="زيادة الكمية">
                             <svg class="w-4 h-4 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path></svg>
                        </button>
                        <span class="font-bold w-6 text-center tabular-nums">${item.quantity}</span>
                         <button class="quantity-change-btn bg-gray-200 text-gray-700 rounded-full p-1 hover:bg-gray-300 transition-colors" data-cart-id="${item.id}" data-change="-1" aria-label="تقليل الكمية">
                           ${item.quantity === 1 ? '<svg class="w-4 h-4 text-red-500 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>' : '<svg class="w-4 h-4 pointer-events-none" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18 12H6"></path></svg>'}
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
        cartTotalEl.textContent = `${formatPrice(total)} د.ع`;
        saveCart();
    };
    // --- END: RENDER FUNCTIONS ---
    
    // --- START: EVENT HANDLERS ---
    const handleAddToCart = (productId, selectedVariant) => {
        let product;
        for (const category of menuData) {
            const found = category.items.find(item => item.id == productId);
            if (found) {
                product = found;
                break;
            }
        }
        if (!product) return;
        
        const cartItemId = selectedVariant ? `${product.id}-${selectedVariant.name}` : `${product.id}`;
        const price = selectedVariant ? selectedVariant.price : product.price;
        const name = selectedVariant ? `${product.name} (${selectedVariant.name})` : product.name;

        const existingItem = cart.find(item => item.id === cartItemId);
        if (existingItem) {
            existingItem.quantity++;
        } else {
            cart.push({ id: cartItemId, productId: product.id, name, price, quantity: 1 });
        }
        
        showToast(`تمت إضافة "${name}" إلى السلة`);
        renderCart();
    };
    
    const handleUpdateQuantity = (cartItemId, change) => {
        const item = cart.find(i => i.id === cartItemId);
        if (item) {
            item.quantity += change;
            if (item.quantity <= 0) {
                cart = cart.filter(i => i.id !== cartItemId);
            }
        }
        renderCart();
    };

    const handleSendOrder = (method) => {
        if (cart.length === 0) {
            showToast("السلة فارغة!");
            return;
        }

        const phoneEl = document.getElementById('customer-phone');
        const addressEl = document.getElementById('customer-address');
        
        if (!phoneEl.value.trim()) {
            showToast("الرجاء إدخال رقم الهاتف!");
            phoneEl.focus();
            return;
        }
        
        if (!addressEl.value.trim()) {
            showToast("الرجاء إدخال عنوان التوصيل!");
            addressEl.focus();
            return;
        }

        const total = cart.reduce((sum, item) => sum + item.price * item.quantity, 0);
        let orderDetails = cart.map(item =>
            `- ${item.quantity} x ${item.name} = ${formatPrice(item.price * item.quantity)} د.ع`
        ).join('\n');
        
        const orderText = `
🍔 طلب جديد من مطعم ملح وسكر 🍔
━━━━━━━━━━━━━━━━━━━━━━

📱 رقم الهاتف: ${phoneEl.value}
📍 عنوان التوصيل: ${addressEl.value}

━━━━━━━━━━━━━━━━━━━━━━
🛒 تفاصيل الطلب:
${orderDetails}
━━━━━━━━━━━━━━━━━━━━━━

💰 المجموع الكلي: ${formatPrice(total)} د.ع

📝 ملاحظات: ${notesEl.value || 'لا يوجد'}

━━━━━━━━━━━━━━━━━━━━━━
شكراً لاختياركم مطعم ملح وسكر 🌟
        `.trim();

        const encodedText = encodeURIComponent(orderText);
        let url = '';

        url = `https://wa.me/${WHATSAPP_NUMBER}?text=${encodedText}`;
        window.open(url, '_blank');
        showToast("تم تحويلك لإرسال الطلب!");
    };
    // --- END: EVENT HANDLERS ---

    // --- START: EVENT LISTENERS ---
    showMenuBtn.addEventListener('click', () => {
        headerSection.classList.add('hidden');
        menuSection.classList.remove('hidden');
    });

    backToHeaderBtn.addEventListener('click', () => {
        menuSection.classList.add('hidden');
        headerSection.classList.remove('hidden');
    });

    menuContainer.addEventListener('click', (e) => {
        if (e.target.classList.contains('toggle-item-btn') || e.target.closest('.toggle-item-btn')) {
            const btn = e.target.classList.contains('toggle-item-btn') ? e.target : e.target.closest('.toggle-item-btn');
            const itemId = parseInt(btn.dataset.itemId);
            toggleItemVisibility(itemId);
        } else if (e.target.classList.contains('add-to-cart-btn')) {
            const itemEl = e.target.closest('[data-product-id]');
            const productId = parseInt(itemEl.dataset.productId);
            
            if (hiddenItems.includes(productId) && !isAdminMode) {
                showToast('هذا الصنف غير متوفر حالياً');
                return;
            }
            
            const variantRadio = itemEl.querySelector('input[type="radio"]:checked');
            const selectedVariant = variantRadio ? { name: variantRadio.value, price: parseFloat(variantRadio.dataset.price) } : null;
            handleAddToCart(productId, selectedVariant);
        } else if (e.target.matches('input[type="radio"][name^="variant-"]')) {
            const itemEl = e.target.closest('[data-product-id]');
            const priceEl = itemEl.querySelector('.item-price');
            priceEl.textContent = `${formatPrice(parseFloat(e.target.dataset.price))} د.ع`;
        }
    });

    document.getElementById('admin-mode-btn').addEventListener('click', checkAdminAccess);

    cartItemsContainer.addEventListener('click', (e) => {
        if (e.target.classList.contains('quantity-change-btn')) {
            const cartId = e.target.dataset.cartId;
            const change = parseInt(e.target.dataset.change, 10);
            handleUpdateQuantity(cartId, change);
        }
    });
    
    clearCartBtn.addEventListener('click', () => {
        if (confirm("هل أنت متأكد من أنك تريد تفريغ السلة؟")) {
            cart = [];
            renderCart();
            showToast("تم تفريغ السلة");
        }
    });
    
    sendWhatsappBtn.addEventListener('click', () => handleSendOrder('whatsapp'));

    document.getElementById('admin-panel-btn').addEventListener('click', toggleAdminMode);

    // Set social links
    document.getElementById('instagram-link').href = INSTAGRAM_URL;
    document.getElementById('whatsapp-link-header').href = `https://wa.me/${WHATSAPP_NUMBER}`;
    // --- END: EVENT LISTENERS ---
    
    // --- START: INITIALIZATION ---
    loadCart();
    loadHiddenItems();
    renderMenu();
    renderCart();
    // --- END: INITIALIZATION ---
});
</script>

<script type="module" src="/index.tsx"></script>
</body>
</html>